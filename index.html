<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00cc66"/>
    <meta name="description" content="Hent et helt hav af hunde">
    <title>Hent en hund</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="./main.css">
    <link rel="apple-touch-icon" href="./assets/images/dogicon-512x512.png">
</head>
<body>
    <div class="indexcontainer">
        <header>
            <h1>Hent en hund</h1>
        </header>
        
        <main>
            <img id="dogimg" alt="Billede af hund">
            <button onclick="getDogs(dogurl)">Hent tilfældig hund</button>
        </main>
        
        <footer>
            <a href="./info.html">Info</a>
        </footer>
        
    </div>
        <script src="./index.js" type="text/javascript"></script>

        <script type="text/javascript">
            const image = document.getElementById('dogimg')
            const dogurl = 'https://dog.ceo/api/breeds/image/random'

            getDogs(dogurl)

            function getDogs(dogurl) {

            
                fetch(dogurl)
                .then(res => res.json())
                .then(json => save(json))

                .catch(err => {
                    window.location.href = "https://mikk7021.github.io/PWA-dogsite/info.html"
                    // const offlinehtml = `
                    //     <h2>Du er desværre offline<h2/>
                    //     <img src="./assets/images/fetchimage.png"></img>
                    // `
                    // const main = document.querySelector('main')
                    // main.innerHTML = offlinehtml
                })

                function save(result) {
                    data = result
                    image.src = data.message
                }
            }

        </script>
</body>
</html>